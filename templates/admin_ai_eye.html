<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI EYE - Omniscient Observer | Suresh AI Origin</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .header {
            background: rgba(26, 26, 46, 0.95);
            padding: 20px 40px;
            border-bottom: 2px solid #00ff88;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header h1 {
            font-size: 28px;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .eye-icon {
            width: 50px;
            height: 50px;
            background: radial-gradient(circle, #00ff88 0%, #00ccff 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            animation: pulse 2s infinite;
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 30px rgba(0, 255, 136, 0.5); }
            50% { transform: scale(1.1); box-shadow: 0 0 50px rgba(0, 255, 136, 0.8); }
        }
        
        .status-badge {
            padding: 8px 20px;
            background: #00ff88;
            color: #000;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .container {
            max-width: 1600px;
            margin: 40px auto;
            padding: 0 40px;
        }
        
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .metric-card {
            background: rgba(26, 26, 46, 0.9);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            border-color: #00ff88;
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
        }
        
        .metric-label {
            font-size: 14px;
            color: #888;
            margin-bottom: 10px;
        }
        
        .metric-value {
            font-size: 36px;
            font-weight: bold;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .section {
            background: rgba(26, 26, 46, 0.9);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 24px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #00ff88;
        }
        
        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .data-item {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 255, 136, 0.2);
            border-radius: 10px;
            padding: 15px;
        }
        
        .data-item-label {
            font-size: 12px;
            color: #888;
            margin-bottom: 5px;
        }
        
        .data-item-value {
            font-size: 20px;
            color: #00ff88;
            font-weight: bold;
        }
        
        .alert-box {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 0, 0, 0.5);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .alert-icon {
            font-size: 24px;
        }
        
        .alert-critical { border-color: #ff0000; background: rgba(255, 0, 0, 0.2); }
        .alert-high { border-color: #ff8800; background: rgba(255, 136, 0, 0.1); }
        .alert-medium { border-color: #ffcc00; background: rgba(255, 204, 0, 0.1); }
        .alert-low { border-color: #00ccff; background: rgba(0, 204, 255, 0.1); }
        
        .insight-card {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .insight-category {
            display: inline-block;
            padding: 5px 15px;
            background: #00ff88;
            color: #000;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .insight-text {
            font-size: 16px;
            line-height: 1.6;
            color: #fff;
        }
        
        .live-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            background: #00ff88;
            border-radius: 50%;
            animation: blink 1s infinite;
            margin-right: 8px;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .refresh-btn {
            background: linear-gradient(45deg, #00ff88, #00ccff);
            border: none;
            color: #000;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .refresh-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.5);
        }
        
        .component-health {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            margin: 8px 0;
        }
        
        .health-bar {
            width: 100px;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00ccff);
            transition: width 0.3s;
        }
        
        .anomaly-badge {
            display: inline-block;
            padding: 5px 12px;
            background: rgba(255, 136, 0, 0.2);
            border: 1px solid #ff8800;
            border-radius: 15px;
            font-size: 12px;
            margin: 5px;
        }
        
        .prediction-box {
            background: rgba(0, 204, 255, 0.1);
            border: 1px solid rgba(0, 204, 255, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .prediction-confidence {
            font-size: 14px;
            color: #00ccff;
            margin-top: 10px;
        }
        
        .back-link {
            display: inline-block;
            padding: 10px 25px;
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid #00ff88;
            border-radius: 20px;
            color: #00ff88;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .back-link:hover {
            background: rgba(0, 255, 136, 0.2);
            transform: translateX(-5px);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>
            <div class="eye-icon">üëÅÔ∏è</div>
            AI EYE - Omniscient Observer
        </h1>
        <div>
            <span class="live-indicator"></span>
            <span class="status-badge">OBSERVING ALL</span>
        </div>
    </div>
    
    <div class="container">
        <div style="margin-bottom: 30px;">
            <a href="/admin" class="back-link">‚Üê Back to Admin</a>
            <button class="refresh-btn" onclick="location.reload()" style="float: right;">
                üîÑ Refresh Observations
            </button>
        </div>
        
        <!-- Overview Metrics -->
        <div class="overview-grid">
            <div class="metric-card">
                <div class="metric-label">System Health</div>
                <div class="metric-value">{{ data.overview.health_score }}%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Live Users</div>
                <div class="metric-value">{{ data.overview.live_users }}</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Active Transactions</div>
                <div class="metric-value">{{ data.overview.live_transactions }}</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">AI Operations</div>
                <div class="metric-value">{{ data.overview.ai_calls_active }}</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Active Alerts</div>
                <div class="metric-value">{{ data.overview.active_alerts }}</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Anomalies Detected</div>
                <div class="metric-value">{{ data.overview.detected_anomalies }}</div>
            </div>
        </div>
        
        <!-- User Activity -->
        <div class="section">
            <h2 class="section-title">üë• User Activity Observation</h2>
            <div class="data-grid">
                <div class="data-item">
                    <div class="data-item-label">Total Users</div>
                    <div class="data-item-value">{{ data.user_activity.total_users }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">New Users (Last Hour)</div>
                    <div class="data-item-value">{{ data.user_activity.new_users_timeframe }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Active Now</div>
                    <div class="data-item-value">{{ data.user_activity.active_users }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Signup Velocity</div>
                    <div class="data-item-value">{{ "%.1f"|format(data.user_activity.signup_velocity) }}/hr</div>
                </div>
            </div>
            
            <h3 style="margin-top: 25px; color: #00ff88;">Top Active Users</h3>
            <div class="data-grid">
                {% for user in data.user_activity.top_active_users %}
                <div class="data-item">
                    <div class="data-item-label">{{ user.user_id }}</div>
                    <div class="data-item-value">{{ user.action_count }} actions</div>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- Transactions -->
        <div class="section">
            <h2 class="section-title">üí∞ Transaction Observation</h2>
            <div class="data-grid">
                <div class="data-item">
                    <div class="data-item-label">Total Transactions</div>
                    <div class="data-item-value">{{ data.transactions.total_transactions }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Successful</div>
                    <div class="data-item-value" style="color: #00ff88;">{{ data.transactions.successful }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Failed</div>
                    <div class="data-item-value" style="color: #ff8800;">{{ data.transactions.failed }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Pending</div>
                    <div class="data-item-value" style="color: #ffcc00;">{{ data.transactions.pending }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Total Amount</div>
                    <div class="data-item-value">‚Çπ{{ "%.2f"|format(data.transactions.total_amount_inr) }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Average Transaction</div>
                    <div class="data-item-value">‚Çπ{{ "%.2f"|format(data.transactions.average_transaction) }}</div>
                </div>
            </div>
        </div>
        
        <!-- AI Operations -->
        <div class="section">
            <h2 class="section-title">ü§ñ AI Operations Observation</h2>
            <div class="data-grid">
                <div class="data-item">
                    <div class="data-item-label">Active AI Calls</div>
                    <div class="data-item-value">{{ data.ai_operations.total_ai_calls }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">AI Systems Active</div>
                    <div class="data-item-value">{{ data.ai_operations.ai_systems_active }}/20</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">AI Health</div>
                    <div class="data-item-value">{{ data.ai_operations.ai_health }}%</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Avg Response Time</div>
                    <div class="data-item-value">{{ "%.2f"|format(data.ai_operations.performance.avg_response_time) }}s</div>
                </div>
            </div>
            
            <h3 style="margin-top: 25px; color: #00ff88;">AI Operations Breakdown</h3>
            <div class="data-grid">
                {% for op_type, count in data.ai_operations.operations.items() %}
                <div class="data-item">
                    <div class="data-item-label">{{ op_type|title }}</div>
                    <div class="data-item-value">{{ count }}</div>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- System Health -->
        <div class="section">
            <h2 class="section-title">üè• System Health Observation</h2>
            <div style="margin: 20px 0;">
                {% for component, health in data.system_health.components.items() %}
                <div class="component-health">
                    <span>{{ component|title }}</span>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span style="color: #00ff88;">{{ health.health }}%</span>
                        <div class="health-bar">
                            <div class="health-fill" style="width: {{ health.health }}%"></div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <h3 style="margin-top: 25px; color: #00ff88;">Resource Usage</h3>
            <div class="data-grid">
                <div class="data-item">
                    <div class="data-item-label">CPU Usage</div>
                    <div class="data-item-value">{{ "%.1f"|format(data.system_health.resources.cpu_usage) }}%</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Memory Usage</div>
                    <div class="data-item-value">{{ "%.1f"|format(data.system_health.resources.memory_usage) }}%</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Disk Usage</div>
                    <div class="data-item-value">{{ "%.1f"|format(data.system_health.resources.disk_usage) }}%</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Uptime</div>
                    <div class="data-item-value">{{ "%.1f"|format(data.system_health.uptime_hours) }}h</div>
                </div>
            </div>
        </div>
        
        <!-- Security -->
        <div class="section">
            <h2 class="section-title">üîí Security Observation</h2>
            <div class="data-grid">
                <div class="data-item">
                    <div class="data-item-label">Security Score</div>
                    <div class="data-item-value">{{ data.security.security_score }}%</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Threats Detected</div>
                    <div class="data-item-value">{{ data.security.threats_detected }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Threats Blocked</div>
                    <div class="data-item-value" style="color: #00ff88;">{{ data.security.threats_blocked }}</div>
                </div>
                <div class="data-item">
                    <div class="data-item-label">Failed Logins</div>
                    <div class="data-item-value">{{ data.security.events.failed_logins }}</div>
                </div>
            </div>
        </div>
        
        <!-- Anomalies -->
        {% if data.anomalies %}
        <div class="section">
            <h2 class="section-title">‚ö†Ô∏è Detected Anomalies</h2>
            {% for anomaly in data.anomalies %}
            <div class="alert-box alert-{{ anomaly.severity }}">
                <div class="alert-icon">‚ö†Ô∏è</div>
                <div>
                    <strong>{{ anomaly.type|replace('_', ' ')|title }}</strong><br>
                    <span style="font-size: 14px;">{{ anomaly.description }}</span>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
        
        <!-- Predictions -->
        <div class="section">
            <h2 class="section-title">üîÆ AI Predictions</h2>
            {% for prediction in data.predictions %}
            <div class="prediction-box">
                <strong>{{ prediction.type|replace('_', ' ')|title }}</strong><br>
                <span style="font-size: 18px; color: #00ccff;">{{ prediction.prediction }}</span>
                <div class="prediction-confidence">
                    Confidence: {{ (prediction.confidence * 100)|int }}%
                </div>
            </div>
            {% endfor %}
        </div>
        
        <!-- Insights -->
        <div class="section">
            <h2 class="section-title">üí° AI-Generated Insights</h2>
            {% for insight in data.insights %}
            <div class="insight-card">
                <span class="insight-category">{{ insight.category|upper }}</span>
                <div class="insight-text">{{ insight.insight }}</div>
                <div style="margin-top: 10px; font-size: 14px; color: #888;">
                    Impact: {{ insight.impact|upper }} | Action: {{ insight.action }}
                </div>
            </div>
            {% endfor %}
        </div>
        
        <!-- Alerts -->
        {% if data.alerts %}
        <div class="section">
            <h2 class="section-title">üö® Active Alerts</h2>
            {% for alert in data.alerts %}
            <div class="alert-box alert-{{ alert.severity }}">
                <div class="alert-icon">üö®</div>
                <div>
                    <strong>{{ alert.type|replace('_', ' ')|title }}</strong><br>
                    <span style="font-size: 14px;">{{ alert.message }}</span>
                    <div style="margin-top: 5px; font-size: 12px; color: #888;">
                        Alert ID: {{ alert.id }} | Created: {{ alert.created_at }}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
        
        <div style="text-align: center; margin: 50px 0; padding: 30px; background: rgba(0, 255, 136, 0.1); border-radius: 15px;">
            <h3 style="color: #00ff88; margin-bottom: 15px;">üëÅÔ∏è AI Eye is watching...</h3>
            <p style="color: #888;">Real-time observation of all platform activities ‚Ä¢ Updated every 30 seconds</p>
        </div>
    </div>
    
    <script>
        // Auto-refresh every 30 seconds
        setTimeout(() => {
            location.reload();
        }, 30000);
    </script>
</body>
</html>
